(this["webpackJsonpptvs-app"]=this["webpackJsonpptvs-app"]||[]).push([[2],{116:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(37),o=n.n(c),i=(n(90),n(36)),s=n(16),l=n(63),u=n(45),d=n(144),b=n(83),f=n(50),p=n(51),j=Object(b.a)({palette:{primary:{main:f.a[500],dark:f.a[800]},secondary:{main:p.a[600],dark:p.a[900]}},colors:{white:"#fff",lightGrey:"#e0e0e0",grey:"#bdbdbd",cardListBg:"rgba(31, 41, 56, .35)",cardListBgActive:"rgb(40, 50, 60)",dark:"#0f151b",colorST:"rgb(31, 41, 56)",overlay:"#121a21ec",background:"#121a21"},border:"1px solid rgba(150, 150, 150, 0.4)",navHeight:70,navHeightMobile:150}),h=n(64),O=n(0),v=n(3),g=n(13),m=n(44),x=n(81),w=n(118),y=n(141),k=n(142),S=n(121),N=n(145),I=n(143),C=n(8),L=Object(w.a)((function(e){return{appBar:{backgroundColor:e.colors.dark,flexGrow:1,position:"sticky",top:0,width:"100%",zIndex:999,transition:".4s"},hidden:{"@media (max-width: 550px)":{transform:"translateY(-70px)"}},toolBar:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",minHeight:e.navHeight},logo:{display:"flex",justifyContent:"center",alignItems:"center","@media (max-width: 550px)":{paddingTop:20,paddingBottom:20}},logoCenter:{"@media (max-width: 550px)":{flex:1,textAlign:"center"}},profile:{display:"flex",justifyContent:"space-between",alignItems:"center","@media (max-width: 550px)":{paddingTop:20,paddingBottom:20,borderTop:e.border,width:"100%"}},user:{display:"flex",alignItems:"center",marginRight:40},avatar:{marginRight:15},button:{minWidth:100,height:40}}})),B=function(e){var t=L(e),n=Object(s.f)(),r=Object(s.g)(),c=Object(a.useState)(!0),o=Object(g.a)(c,2),l=o[0],d=o[1],b=Object(a.useContext)(u.a),f=b.user,p=b.dispatch,j=function(){var e=Object(v.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Do you want to log out?")){e.next=3;break}return e.abrupt("return");case 3:return n.push("/"),e.next=6,Object(m.d)(x.a).then((function(){p({type:"LOGOUT",user:null})})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){window.pageYOffset>100?d(!1):d(!0)};return Object(a.useEffect)((function(){return window.addEventListener("scroll",h),function(){window.removeEventListener("scroll",h)}}),[r]),Object(C.jsx)(y.a,{position:"static",className:"".concat(t.appBar," ").concat(l?null:t.hidden),elevation:2,children:Object(C.jsxs)(k.a,{className:t.toolBar,children:[Object(C.jsxs)(S.a,{component:i.b,to:"/",variant:"h6",className:"".concat(t.logo," ").concat(f?t.logoCenter:null),children:["PTVS Vision"," "]}),f?Object(C.jsxs)("div",{className:t.profile,children:[Object(C.jsxs)("div",{className:t.user,children:[Object(C.jsx)(N.a,{className:t.avatar,alt:f.name,src:f.photoURL}),Object(C.jsx)(S.a,{className:t.userName,variant:"body1",children:f.displayName})]}),Object(C.jsx)(I.a,{variant:"contained",color:"secondary",onClick:j,className:t.button,children:"Logout"})]}):Object(C.jsx)(I.a,{component:i.b,to:"/auth",variant:"contained",color:"primary",className:t.button,children:"Sign In"})]})})};function T(){var e=Object(s.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var E=Object(w.a)((function(e){return{root:{backgroundColor:e.colors.dark},copyright:{display:"flex",justifyContent:"center",padding:20}}})),W=function(){var e=E();return Object(C.jsx)("footer",{className:e.root,children:Object(C.jsx)("div",{className:e.copyright,children:Object(C.jsx)(S.a,{variant:"caption",children:"\xa9 2022 PTVS.pl"})})})},P=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(9)]).then(n.bind(null,234))})),A=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(10)]).then(n.bind(null,236))})),z=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,239))})),G=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,238))}));var H=function(){return Object(C.jsx)(d.a,{theme:j,children:Object(C.jsx)(u.b,{children:Object(C.jsxs)(i.a,{children:[Object(C.jsx)(T,{}),Object(C.jsx)(B,{}),Object(C.jsx)(a.Suspense,{fallback:Object(C.jsx)(h.a,{}),children:Object(C.jsx)("main",{children:Object(C.jsx)(l.b,{children:Object(C.jsxs)(s.c,{children:[Object(C.jsx)(s.a,{path:"/",component:P,exact:!0}),Object(C.jsx)(s.a,{path:"/auth",component:G}),Object(C.jsx)(s.a,{path:"/video/:id",component:A}),Object(C.jsx)(z,{})]})})})}),Object(C.jsx)(W,{})]})})})},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(H,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):R(t,e)}))}}()},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(13),r=n(1),c=function(e,t){switch(t.type){case"LOGIN":return{user:t.payload};case"LOGOUT":return{user:null};default:return e}},o=n(8),i={user:JSON.parse(localStorage.getItem("user"))||null},s=Object(r.createContext)(i);t.b=function(e){var t=e.children,n=Object(r.useReducer)(c,i),l=Object(a.a)(n,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){localStorage.setItem("user",JSON.stringify(u.user))}),[u.user]),Object(o.jsx)(s.Provider,{value:{user:u.user,dispatch:d},children:t})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n(14),c=n(3),o=n(13),i=n(1),s=n(56),l=n.n(s),u=n(8),d=Object(i.createContext)(null);t.b=function(e){var t=e.children,n=Object(i.useState)([]),s=Object(o.a)(n,2),b=s[0],f=s[1],p=Object(i.useState)({}),j=Object(o.a)(p,2),h=j[0],O=j[1],v=Object(i.useState)({}),g=Object(o.a)(v,2),m=g[0],x=g[1],w=Object(i.useState)(!1),y=Object(o.a)(w,2),k=y[0],S=(y[1],Object(i.useState)({})),N=Object(o.a)(S,2),I=N[0],C=N[1],L=Object(i.useState)(""),B=Object(o.a)(L,2),T=B[0],E=B[1],W="https://api.themoviedb.org/3",P=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[1,2,3,4,5,6,7,8,9],n=[],c=1;case 3:if(!(c<=t.length)){e.next=9;break}return e.next=6,l.a.get("".concat(W,"/discover/movie?api_key=").concat("6ee7f3428460a5491a7fd39d27a7a79f","&page=").concat(c)).then((function(e){return n.push.apply(n,Object(r.a)(e.data.results))})).catch((function(e){return console.log(e)}));case 6:++c,e.next=3;break;case 9:f(n),x(n[0]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){P()}),[]);var A=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("".concat(W,"/movie/").concat(t,"videos"),{params:{api_key:"6ee7f3428460a5491a7fd39d27a7a79f",append_to_response:"videos"}});case 2:return n=e.sent,(r=n.data).videos&&r.videos.results&&(r.videos.results.find((function(e){return"Official Trailer"===e.name})),C(r.videos.results[0].key)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:n=e.sent,O(n),E(n.genres[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(d.Provider,{value:{videos:b,video:h,trailer:I,newVideo:m,loading:k,videoCategory:T,getSelectMovie:z},children:t})}},64:function(e,t,n){"use strict";n(1);var a=n(120),r=n(118),c=n(121),o=n(8),i=Object(r.a)((function(){return{root:{padding:20,width:"100%",height:"100vh"},container:{display:"flex",alignItems:"center"}}}));t.a=function(){var e=i();return Object(o.jsx)("div",{className:e.root,children:Object(o.jsxs)("div",{className:e.container,children:[Object(o.jsx)(a.a,{disableShrink:!0,color:"inherit"}),Object(o.jsx)(c.a,{style:{marginLeft:10},children:"Loading..."})]})})}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(82),r=n(44),c=Object(a.a)({apiKey:"AIzaSyAGH7lO8acEqIHDYMt3ElA6vhy6WoBbtr4",authDomain:"ptvs-store.firebaseapp.com",projectId:"ptvs-store",storageBucket:"ptvs-store.appspot.com",messagingSenderId:"954662325939",appId:"1:954662325939:web:2e432fd4dc273fe6e4aac6"}),o=Object(r.b)(c)},90:function(e,t,n){}},[[116,3,4]]]);
//# sourceMappingURL=main.08392d07.chunk.js.map