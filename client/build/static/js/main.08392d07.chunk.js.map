{"version":3,"sources":["theme/index.js","components/Navbar/Navbar.js","components/ScrollToTop/ScrollToTop.js","components/Footer/Footer.js","App.js","serviceWorker.js","index.js","context/AuthReducer.js","context/AuthContext.js","context/ApiContext.js","components/Loading/Loading.js","firebase/firebase.js"],"names":["theme","createMuiTheme","palette","primary","main","indigo","dark","secondary","red","colors","white","lightGrey","grey","cardListBg","cardListBgActive","colorST","overlay","background","border","navHeight","navHeightMobile","useStyles","makeStyles","appBar","backgroundColor","flexGrow","position","top","width","zIndex","transition","hidden","transform","toolBar","display","flexWrap","justifyContent","alignItems","minHeight","logo","paddingTop","paddingBottom","logoCenter","flex","textAlign","profile","borderTop","user","marginRight","avatar","button","minWidth","height","Navbar","props","classes","history","useHistory","location","useLocation","useState","visible","setVisible","useContext","AuthContext","dispatch","logout","window","confirm","push","signOut","auth","then","type","catch","error","console","log","handleScroll","pageYOffset","useEffect","addEventListener","removeEventListener","AppBar","className","elevation","Toolbar","Typography","component","Link","to","variant","Avatar","alt","name","src","photoURL","userName","displayName","Button","color","onClick","ScrollToTop","pathname","scrollTo","root","copyright","padding","Footer","HomeScreen","lazy","VideoScreen","ChannelScreen","Auth","App","ThemeProvider","fallback","Loading","path","exact","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","AuthReducer","action","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","createContext","AuthProvider","children","useReducer","setItem","stringify","Provider","value","ApiContext","ApiProvider","videos","setVideos","video","setVideo","newVideo","setNewVideo","loading","trailer","setTrailer","videoCategory","setVideoCategory","API_URL","fetchMovies","numbers","pages","i","length","axios","res","data","results","err","fetchMovie","id","params","api_key","append_to_response","find","vid","key","getSelectMovie","movie","genres","container","disableShrink","style","marginLeft","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth"],"mappings":"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","file":"static/js/main.08392d07.chunk.js","sourcesContent":["import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { indigo, red } from \"@material-ui/core/colors\";\r\n\r\nexport const theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: indigo[500],\r\n\t\t\tdark: indigo[800],\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: red[600],\r\n\t\t\tdark: red[900],\r\n\t\t},\r\n\t},\r\n\tcolors: {\r\n\t\twhite: \"#fff\",\r\n\t\tlightGrey: '#e0e0e0',\r\n\t\tgrey: '#bdbdbd',\r\n\t\tcardListBg: \"rgba(31, 41, 56, .35)\",\r\n\t\tcardListBgActive: \"rgb(40, 50, 60)\",\r\n\t\tdark: \"#0f151b\",\r\n\t\tcolorST: \"rgb(31, 41, 56)\",\r\n\t\toverlay: \"#121a21ec\",\r\n\t\tbackground: \"#121a21\",\r\n\t},\r\n\tborder: \"1px solid rgba(150, 150, 150, 0.4)\",\r\n\tnavHeight: 70,\r\n\tnavHeightMobile: 150,\r\n});\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"../../firebase/firebase\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport {\r\n\tmakeStyles,\r\n\tAppBar,\r\n\tAvatar,\r\n\tButton,\r\n\tToolbar,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tappBar: {\r\n\t\tbackgroundColor: theme.colors.dark,\r\n\t\tflexGrow: 1,\r\n\t\tposition: \"sticky\",\r\n\t\ttop: 0,\r\n\t\twidth: \"100%\",\r\n\t\tzIndex: 999,\r\n\t\ttransition: \".4s\",\r\n\t},\r\n\thidden: {\r\n\t\t\"@media (max-width: 550px)\": {\r\n\t\t\ttransform: `translateY(-70px)`,\r\n\t\t},\r\n\t},\r\n\ttoolBar: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\talignItems: \"center\",\r\n\t\tminHeight: theme.navHeight,\r\n\t},\r\n\tlogo: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\t\"@media (max-width: 550px)\": {\r\n\t\t\tpaddingTop: 20,\r\n\t\t\tpaddingBottom: 20,\r\n\t\t},\r\n\t},\r\n\tlogoCenter: {\r\n\t\t\"@media (max-width: 550px)\": {\r\n\t\t\tflex: 1,\r\n\t\t\ttextAlign: \"center\",\r\n\t\t},\r\n\t},\r\n\tprofile: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\talignItems: \"center\",\r\n\t\t\"@media (max-width: 550px)\": {\r\n\t\t\tpaddingTop: 20,\r\n\t\t\tpaddingBottom: 20,\r\n\t\t\tborderTop: theme.border,\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t},\r\n\tuser: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tmarginRight: 40,\r\n\t},\r\n\tavatar: {\r\n\t\tmarginRight: 15,\r\n\t},\r\n\tbutton: {\r\n\t\tminWidth: 100,\r\n\t\theight: 40,\r\n\t},\r\n}));\r\n\r\nconst Navbar = (props) => {\r\n\tconst classes = useStyles(props);\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tconst [visible, setVisible] = useState(true);\r\n\tconst { user, dispatch } = useContext(AuthContext);\r\n\r\n\tconst logout = async () => {\r\n\t\tconst result = window.confirm(\"Do you want to log out?\");\r\n\t\tif (!result) return;\r\n\t\thistory.push(\"/\");\r\n\t\tawait signOut(auth)\r\n\t\t\t.then(() => {\r\n\t\t\t\tdispatch({ type: \"LOGOUT\", user: null });\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = () => {\r\n\t\tif (window.pageYOffset > 100) {\r\n\t\t\tsetVisible(false);\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"scroll\", handleScroll);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"scroll\", handleScroll);\r\n\t\t};\r\n\t}, [location]);\r\n\r\n\treturn (\r\n\t\t<AppBar\r\n\t\t\tposition=\"static\"\r\n\t\t\tclassName={`${classes.appBar} ${visible ? null : classes.hidden}`}\r\n\t\t\televation={2}\r\n\t\t>\r\n\t\t\t<Toolbar className={classes.toolBar}>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\tclassName={`${classes.logo} ${\r\n\t\t\t\t\t\tuser ? classes.logoCenter : null\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tPTVS Vision{\" \"}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{user ? (\r\n\t\t\t\t\t<div className={classes.profile}>\r\n\t\t\t\t\t\t<div className={classes.user}>\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tclassName={classes.avatar}\r\n\t\t\t\t\t\t\t\talt={user.name}\r\n\t\t\t\t\t\t\t\tsrc={user.photoURL}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tclassName={classes.userName}\r\n\t\t\t\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{user.displayName}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={logout}\r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\t\tto={\"/auth\"}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n\tconst { pathname } = useLocation();\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, [pathname]);\r\n\r\n\treturn null;\r\n}\r\n","import React from \"react\";\r\nimport { Typography, makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.colors.dark,\r\n\t},\r\n\tcopyright: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tpadding: 20,\r\n\t},\r\n}));\r\n\r\nconst Footer = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<footer className={classes.root}>\r\n\t\t\t<div className={classes.copyright}>\r\n\t\t\t\t<Typography variant=\"caption\">© 2022 PTVS.pl</Typography>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport ApiProvider from \"./context/ApiContext\";\r\nimport AuthProvider from \"./context/AuthContext\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { theme } from \"./theme/index\";\r\n\r\nimport Loading from \"./components/Loading/Loading\";\r\nimport NavBar from \"./components/Navbar/Navbar\";\r\nimport ScrollToTop from \"./components/ScrollToTop/ScrollToTop\";\r\nimport Footer from \"./components/Footer/Footer\";\r\n\r\nconst HomeScreen = lazy(() => import(\"./screens/HomeScreen\"));\r\nconst VideoScreen = lazy(() => import(\"./screens/VideoScreen\"));\r\nconst ChannelScreen = lazy(() => import(\"./screens/ChannelScreen\"));\r\nconst Auth = lazy(() => import(\"./components/Auth/Auth\"));\r\n\r\nfunction App() {\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<AuthProvider>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<ScrollToTop />\r\n\t\t\t\t\t<NavBar />\r\n\t\t\t\t\t<Suspense fallback={<Loading />}>\r\n\t\t\t\t\t\t<main>\r\n\t\t\t\t\t\t\t<ApiProvider>\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent={HomeScreen}\r\n\t\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route path=\"/auth\" component={Auth} />\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/video/:id\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent={VideoScreen}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<ChannelScreen />\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t</ApiProvider>\r\n\t\t\t\t\t\t</main>\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t</Router>\r\n\t\t\t</AuthProvider>\r\n\t\t</ThemeProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nserviceWorker.register();","const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN\": {\r\n      return {\r\n        user: action.payload,\r\n      };\r\n    }\r\n    case \"LOGOUT\": {\r\n      return {\r\n        user: null,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;","import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n\tuser: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n}\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nconst AuthProvider = ({ children }) => {\r\n\tconst [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n\tuseEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ user: state.user, dispatch }}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default AuthProvider;\r\n","import React, { createContext, useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport const ApiContext = createContext(null)\r\n\r\nconst ApiProvider = ({ children }) => {\r\n  const [videos, setVideos] = useState([])\r\n  const [video, setVideo] = useState({})\r\n  const [newVideo, setNewVideo] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [trailer, setTrailer] = useState({})\r\n  const [videoCategory, setVideoCategory] = useState('')\r\n  const API_URL = 'https://api.themoviedb.org/3'\r\n\r\n  const fetchMovies = async () => {\r\n\t\tconst numbers = [1, 2, 3, 4, 5, 6, 7 , 8 , 9]\r\n\t\tconst pages = []\r\n\t\tfor(let i = 1; i <= numbers.length; ++i) {\r\n\t\t\tawait axios.get(`${API_URL}/discover/movie?api_key=${process.env.REACT_APP_MOVIE_API_KEY}&page=${i}`)\r\n\t\t\t.then(res => pages.push(...res.data.results))\r\n\t\t\t.catch(err => console.log(err))\r\n\t\t}\r\n\t\tsetVideos(pages)\r\n\t\tsetNewVideo(pages[0])\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchMovies()\r\n  }, [])\r\n\r\n  const fetchMovie = async (id) => {\r\n    const { data } = await axios(`${API_URL}/movie/${id}videos`, {\r\n      params: {\r\n        api_key: process.env.REACT_APP_MOVIE_API_KEY,\r\n        append_to_response: 'videos',\r\n      },\r\n    })\r\n    if (data.videos && data.videos.results) {\r\n\t\t\tconst trailer = data.videos.results.find(vid => vid.name === \"Official Trailer\")\r\n      setTrailer(data.videos.results[0].key)\r\n    }\r\n    return data\r\n  }\r\n\r\n  const getSelectMovie = async (id) => {\r\n    const movie = await fetchMovie(id)\r\n    setVideo(movie)\r\n    setVideoCategory(movie.genres[0])\r\n  }\r\n\r\n  return (\r\n    <ApiContext.Provider\r\n      value={{\r\n        videos,\r\n        video,\r\n        trailer,\r\n        newVideo,\r\n        loading,\r\n        videoCategory,\r\n        getSelectMovie,\r\n      }}\r\n    >\r\n      {children}\r\n    </ApiContext.Provider>\r\n  )\r\n}\r\n\r\nexport default ApiProvider\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles, Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n\troot: {\r\n\t\tpadding: 20,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100vh\",\r\n\t},\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  }\r\n}));\r\nconst Loading = () => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<CircularProgress disableShrink color=\"inherit\" />\r\n\t\t\t\t<Typography style={{ marginLeft: 10 }}>Loading...</Typography>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loading;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n\tauthDomain: \"ptvs-store.firebaseapp.com\",\r\n\tprojectId: \"ptvs-store\",\r\n\tstorageBucket: \"ptvs-store.appspot.com\",\r\n\tmessagingSenderId: \"954662325939\",\r\n\tappId: \"1:954662325939:web:2e432fd4dc273fe6e4aac6\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\n"],"sourceRoot":""}